import { getBitcoinTx } from './validator-lib';

describe('validator-lib', () => {
  it('should get bitcoin data', async () => {
    const tx = await getBitcoinTx(
      '9567d2808b8006f1898a3ccd65947d027295ab0bbdfa6b84e35ec2c748a5eed8',
    );
    expect(tx).toMatchInlineSnapshot(`
      {
        "header": "00e050306a0e49115fe811ed6ccfd49a262df99d34ba3a0ddcf904000000000000000000ee786230bb581951ea753a58d09207e40f021f2c4dbad4a0a04f41d746544e61c048f3647b0f051740c0030d",
        "height": "805896",
        "proof": {
          "hashes": [
            "e0bbb31ca433b0cddd44cd4786e058fd88ecfb90df9f4b8c42b15c18a3fe2ceb",
            "ccb80759b581a42fd5f0c79d4962fd4c7c06ab51fcaece5529153f39a6bfa35e",
            "975ee0c9b98166dc1c6555791adc7d7420333db1ca23a4bba0045550d2f572bd",
            "0b00d17db1847ee936cdd79c7c1b5bab1c512a25173f49646e945fe86cee8b82",
            "d40ebbf381185f0d9e22cf1350d4ce0f1d30f62d0532295eb1f9f6b96147a935",
            "4ba020e0c12717138fb860c94eda9e28d201ab492dffeec5a8a168fbf40632cf",
            "0f7640dc29e2cc2699fe1eec6b15d1a1452ea7c186419ed5cdea75b502b39afa",
            "06dcf0b81aec648b9f8713fcad6315fe11de76567ec015cf60c10908e58f26b1",
            "705384cd54763611a830b6ef8baf26fb544380fed51b603bc7b6b7ea81324851",
            "d75bb66dd782e52e985bf964e61bf481c1aa5eeb7e669376f495ef5cdb8946da",
            "baa87ad9f41e98c5a02578cc7557b4d053ffd77e29f40b7d4389d213b5964363",
          ],
          "tree-depth": 11,
          "tx-index": 1604,
        },
        "tx": "02000000000101a1d192c7a93223e7ca25d9d8f9b7b0ea8fdad9350b4beff0a95d570149aee6590000000000fdffffff01220200000000000022512074ffee019a60d7db3c8071c31483f8d002df93854ad137875ccbb46f31a059fc034058518b31aaf79c352bac350ccf08541f09c8caaa77c5cbf645a5051bb5c9c99026a68812fb14bcf9d2f433184345cf20be73ac9ad1a6563a0a67fb4c4766631a802059131daf563444921427d2130281b2e0ffc0690a6e06f379c86e37a47bc4ee87ac0063036f7264010118746578742f706c61696e3b636861727365743d7574662d38003a7b2270223a226272632d3230222c226f70223a227472616e73666572222c227469636b223a2257484545222c22616d74223a223130303030227d6821c159131daf563444921427d2130281b2e0ffc0690a6e06f379c86e37a47bc4ee8700000000",
      }
    `);
  });
});
